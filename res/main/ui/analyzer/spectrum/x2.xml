<plugin resizable="true">
	<vbox spacing="4">
		<!-- Head settings -->
		<align halign="-1" fill="true">
			<hbox padding.left="6" padding.right="6" padding.top="4" padding.bottom="4" spacing="8" fill="false" bg.color="bg_schema">
				<label text="labels.mode"/>
				<combo id="mode"/>
				<button padding.left="10" ui:inject="Button_cyan" text="actions.freeze" size="16" width="64" id="freeze"/>
			</hbox>
		</align>

		<hbox expand="true" spacing="4">
			<vbox spacing="4" expand="true">
				<!-- Analyzer, Mastering -->
				<group ui:inject="GraphGroup" ipadding="0" text="labels.graphs.frequency" expand="true" visibility=":mode ile 1">
					<graph width.min="738" height.min="415" expand="true" fill="true">
						<origin hpos="-1" vpos="-1" visible="false"/>

						<!-- gray grid -->
						<ui:attributes ox="0" oy="1">
							<ui:for id="f" first="20" last="90" step="10">
								<marker value="${f}" color="graph_alt_4"/>
							</ui:for>
							<ui:for id="f" first="200" last="900" step="100">
								<marker value="${f}" color="graph_alt_4"/>
							</ui:for>
							<ui:for id="f" first="2000" last="9000" step="1000">
								<marker value="${f}" color="graph_alt_4"/>
							</ui:for>
							<marker value="20000" color="graph_alt_4"/>
						</ui:attributes>

						<ui:for id="g" first="-60" last="12" step="24">
							<marker value="${g} db" ox="1" oy="0" color="graph_alt_4"/>
						</ui:for>

						<!-- Additional markers for zoom -->
						<ui:for id="t" first="-42" last="-6" step="12">
							<marker value="${t} db" color="graph_alt_4" basis="1" parallel="0" visibility=":zoom le -18 db"/>
						</ui:for>

						<ui:for id="t" first="-33" last="-15" step="6">
							<marker value="${t} db" color="graph_alt_4" basis="1" parallel="0" visibility=":zoom le -33 db"/>
						</ui:for>

						<!-- Bright gray Grid -->
						<marker value="100" ox="0" oy="1" color="graph_alt_2"/>
						<marker value="1000" ox="0" oy="1" color="graph_alt_2"/>
						<marker value="10000" ox="0" oy="1" color="graph_alt_2"/>

						<marker value="0 db" ox="1" oy="0" color="graph_alt_2"/>
						<marker value="-24 db" ox="1" oy="0" color="graph_alt_2"/>
						<marker value="-48 db" ox="1" oy="0" color="graph_alt_2"/>

						<!-- Meshes -->
						<mesh xi="0" yi="1" id="spd" width="3" color="left_channel" visibility_id="on_0"/>
						<mesh xi="0" yi="2" id="spd" width="3" color="right_channel" visibility_id="on_1"/>

						<!-- Boundaries -->
						<marker ox="2" oy="0" value="1" color="graph_alt_2" visible="false"/>
						<marker ox="0" oy="1" value="24000" color="graph_alt_2" visible="false"/>

						<!-- Axis -->
						<axis angle="0.0" min="10" max="24000" color="graph_alt_2" log="true" visible="false"/>
						<axis angle="0.5" min="-72 db / :zoom" max="24 db * :zoom" color="graph_alt_2" log="true" visible="false"/>
						<axis angle="0.5" min="-1" max="1" visible="false"/>

						<!-- Marker -->
						<marker id="freq" basis="0" parallel="1"/>
						<marker id="lvl" basis="1" parallel="0"/>

						<!-- Text -->
						<ui:attributes y="0" ox="0" oy="2" halign="1" valign="1" color="graph_prim">
							<text x="10" text="graph.units.hz"/>
							<text x="100" text="100"/>
							<text x="1000" text="graph.values.1k"/>
							<text x="10000" text="graph.values.10k"/>
						</ui:attributes>

						<ui:for id="t" first="-60" last="12" step="12">
							<text x="10" y="${t} db" text="${t}" halign="1" valign="1" color="graph_prim"/>
						</ui:for>
						<text x="10" y="1" ox="0" oy="2" text="graph.units.db" halign="1" valign="-1" color="graph_prim"/>

						<!-- Additional text -->
						<ui:attributes x="10" halign="1" valign="1" color="graph_prim" visibility=":zoom le -18 db">
							<text y="-42 db" text="-42"/>
							<text y="-30 db" text="-30"/>
							<text y="-18 db" text="-18"/>
							<text y="-6 db" text="-6"/>
						</ui:attributes>

						<ui:attributes x="10" halign="1" valign="1" color="graph_prim" visibility=":zoom le -33 db">
							<text y="-33 db" text="-33"/>
							<text y="-27 db" text="-27"/>
							<text y="-21 db" text="-21"/>
							<text y="-15 db" text="-33"/>
						</ui:attributes>
					</graph>
				</group>

				<!-- Spectralizer (1 channel) -->
				<group ui:inject="GraphGroup" ipadding="0" text="labels.graphs.frequency" expand="true" visibility=":mode ieq 2">
					<graph width.min="738" height.min="415" expand="true" fill="true">
						<origin hpos="-1" vpos="1" visible="false"/>

						<!-- gray grid -->
						<ui:for id="f" first="20" last="90" step="10">
							<marker value="${f}" color="graph_alt_4"/>
						</ui:for>
						<ui:for id="f" first="200" last="900" step="100">
							<marker value="${f}" color="graph_alt_4"/>
						</ui:for>
						<ui:for id="f" first="2000" last="9000" step="1000">
							<marker value="${f}" color="graph_alt_4"/>
						</ui:for>
						<marker value="20000" color="graph_alt_4"/>

						<ui:for id="t" first="1" last="7" step="2">
							<marker value="${t}" ox="1" oy="0" color="graph_alt_4"/>
						</ui:for>

						<!-- Bright gray Grid -->
						<marker value="100" color="graph_alt_2"/>
						<marker value="1000" color="graph_alt_2"/>
						<marker value="10000" color="graph_alt_2"/>

						<ui:for id="t" first="2" last="6" step="2">
							<marker value="${t}" ox="1" oy="0" color="graph_alt_2"/>
						</ui:for>

						<!-- Frame buffer -->
						<fbuffer id="fb0" width="1" height="1" hpos="-1" vpos="1" transparency="0.25" angle="0" mode=":spm" color="left_channel" color.hue=":hue[spc]"/>

						<!-- Boundaries -->
						<marker value="8" ox="1" oy="0" color="graph_alt_2" visible="false"/>
						<marker value="24000" ox="0" oy="1" color="graph_alt_2" visible="false"/>

						<!-- Axis -->
						<axis angle="0.0" min="10" max="24000" color="graph_alt_2" log="true"/>
						<axis angle="1.5" min="0" max="8" color="graph_alt_2" log="false"/>

						<!-- Text -->
						<ui:attributes y="8" halign="1" valign="1" color="graph_prim">
							<text x="10" text="graph.units.hz"/>
							<text x="100" text="100" halign="1"/>
							<text x="1000" text="graph.values.1k"/>
							<text x="10000" text="graph.values.10k"/>
						</ui:attributes>

						<text x="10" y="0" text="graph.axis.time" halign="1" valign="-1" color="graph_prim"/>
						<ui:for id="t" first="1" last="7">
							<text x="10" y="${t}" text="${t}" halign="1" valign="1" color="graph_prim"/>
						</ui:for>
					</graph>
				</group>

				<!-- Spectralizer (2 channels) -->
				<group ui:inject="GraphGroup" ipadding="0" text="labels.graphs.frequency" expand="true" visibility=":mode ieq 3">
					<graph width.min="738" height.min="415" expand="true" fill="true">
						<origin hpos="-1" vpos="1" visible="false"/>
						<origin hpos="0" vpos="1" visible="false"/>

						<!-- gray grid -->
						<ui:for id="f" first="20" last="90" step="10">
							<marker value="${f}" o="0" ox="0" oy="1" color="graph_alt_4"/>
							<marker value="${f}" o="1" ox="2" oy="1" color="graph_alt_4"/>
						</ui:for>
						<ui:for id="f" first="200" last="900" step="100">
							<marker value="${f}" o="0" ox="0" oy="1" color="graph_alt_4"/>
							<marker value="${f}" o="1" ox="2" oy="1" color="graph_alt_4"/>
						</ui:for>
						<ui:for id="f" first="2000" last="9000" step="1000">
							<marker value="${f}" o="0" ox="0" oy="1" color="graph_alt_4"/>
							<marker value="${f}" o="1" ox="2" oy="1" color="graph_alt_4"/>
						</ui:for>
						<marker value="20000" o="0" ox="0" oy="1" color="graph_alt_4"/>
						<marker value="20000" o="1" ox="2" oy="1" color="graph_alt_4"/>

						<ui:for id="t" first="1" last="7" step="2">
							<marker value="${t}" ox="1" oy="0" color="graph_alt_4"/>
						</ui:for>

						<!-- Bright gray Grid -->
						<ui:attributes ox="0" oy="1">
							<ui:for id="c" first="0" last="1">
								<marker value="100" o="${c}" color="graph_alt_2"/>
								<!-- 100 Hz -->
								<marker value="1000" o="${c}" color="graph_alt_2"/>
								<!-- 1 kHz -->
								<marker value="10000" o="${c}" color="graph_alt_2"/>
								<!-- 10 kHz -->
							</ui:for>
						</ui:attributes>

						<ui:for id="t" first="2" last="6" step="2">
							<marker value="${t}" color="graph_alt_2" basis="1" parallel="0"/>
						</ui:for>

						<!-- Frame buffer -->
						<fbuffer id="fb0" x="-1" y="1" width="0.5" height="1" transparency="0.25" angle="0" mode=":spm" color="left_channel"/>
						<fbuffer id="fb1" x="0" y="1" width="0.5" height="1" transparency="0.25" angle="0" mode=":spm" color="right_channel"/>

						<!-- Boundaries -->
						<marker value="8" o="0" color="graph_alt_1" ox="1" oy="0" visible="false"/>
						<marker value="24000" o="0" color="graph_alt_2" ox="0" oy="1"/>
						<marker value="24000" o="1" color="graph_alt_2" ox="2" oy="1" visible="false"/>

						<!-- Axis -->
						<axis o="0" angle="0.0" min="10" max="24000" length=":_a_width idiv 2" color="graph_alt_2" log="true"/>
						<axis o="0" angle="1.5" min="0" max="8" color="graph_alt_1" log="false"/>
						<axis o="1" angle="0.0" min="10" max="24000" length=":_a_width idiv 2" color="graph_alt_2" log="true"/>

						<!-- Text -->
						<ui:for id="c" first="0" last="1">
							<ui:attributes y="8" ox="0" oy="1" halign="1" valign="1" color="graph_prim">
								<text x="10" o="${c}" text="graph.units.hz"/>
								<text x="100" o="${c}" text="100"/>
								<text x="1000" o="${c}" text="graph.values.1k"/>
								<text x="10000" o="${c}" text="graph.values.10k"/>
							</ui:attributes>

							<ui:for id="t" first="1" last="7">
								<text o="${c}" text="${t}" x="10" y="${t}" halign="1" valign="1" color="graph_prim"/>
							</ui:for>
							<text o="${c}" text="graph.axis.time" basis="0;1" x="10" y="0" halign="1" valign="-1" color="graph_prim"/>
						</ui:for>
					</graph>
				</group>

				<!-- Bottom menu -->
				<hbox padding.left="6" padding.right="6" padding.top="4" padding.bottom="4" bg.color="bg_schema">
					<align halign="-1" fill="true">
						<hbox spacing="8">
							<label text="labels.fft.window"/>
							<combo id="wnd" padding.right="15"/>
							<label text="labels.fft.tolerance"/>
							<combo id="tol" padding.right="15"/>
							<label text="labels.fft.envelope"/>
							<combo id="env" padding.right="15"/>
						</hbox>
					</align>
					<align halign="1" fill="true">
						<hbox spacing="8">
							<label text="labels.spectrogram" visibility=":mode ige 2"/>
							<combo id="spm" visibility=":mode ige 2"/>
							<button ui:inject="Button_yellow" text="labels.log_scale" id="splog" size="16" visibility=":mode ige 2" padding.left="15"/>
						</hbox>
					</align>
				</hbox>
			</vbox>

			<!-- Zoom Fader -->
			<vbox visibility=":mode ile 1" vexpand="true" bg.color="bg_schema">
				<label font.name="lsp-icons" font.size="12" font.antialias="true" text="E" color="text_icon" padding.bottom="4" padding.top="4"/>
				<fader id="zoom" angle="1" vexpand="true" bg.inherit="true" flat="true"/>
				<value id="zoom" width="40"/>
			</vbox>

			<!-- metering -->
			<vbox fill="true" vexpand="true" visibility=":mode ile 1" spacing="4">
				<group text="groups.metering" vexpand="true" bg.color="bg" ipadding="0">
					<grid rows="3" cols="1" expand="true" vspacing="2">
						<cell>
							<grid rows="3" cols="3" transpose="true" spacing="2">
								<ui:attributes bg.color="bg_schema" padding="6">
									<vbox>
										<label text="labels.metering.preamp"/>
										<hbox>
											<knob id="pamp" width="60"/>
											<value id="pamp" same_line="true" width="60"/>
										</hbox>
									</vbox>

									<cell expand="false" padding="0">
										<hsep/>
									</cell>

									<vbox>
										<label text="labels.metering.reactivity" width="58"/>
										<hbox>
											<knob id="react" width="60"/>
											<value id="react" same_line="true" width="60"/>
										</hbox>
									</vbox>

									<cell rows="3" cols="1" expand="false" padding="0">
										<vsep/>
									</cell>

									<cell rows="3" cols="2">
										<vbox>
											<label text="labels.metering.channel" width="58"/>
											<combo id="chn" width="48"/>
											<label text="labels.metering.selector" width="58"/>
											<knob id="sel" scolor="(:chn)? 'left_channel' : 'right_channel'"/>
											<void/>
											<value id="sel" same_line="true"/>
										</vbox>
									</cell>
								</ui:attributes>
							</grid>
						</cell>

						<cell expand="false" padding="0">
							<hsep/>
						</cell>

						<cell>
							<hbox spacing="2" bg.color="bg">
								<ui:attributes bg.color="bg_schema" padding="6">
									<void fill="true" expand="true"/>
									<vsep expand="false" padding="0"/>
									<vbox expand="false">
										<vbox bg.color="bg_schema">
											<label text="labels.metering.frequency:hz"/>
											<indicator id="freq" format="f6.1!" text.color="(:chn)? 'left_channel' : 'right_channel'"/>
										</vbox>
										<vbox>
											<label text="labels.metering.level:db"/>
											<indicator id="lvl" format="+-f5.1!" text.color="(:chn)? 'left_channel' : 'right_channel'"/>
										</vbox>
									</vbox>
								</ui:attributes>
							</hbox>
						</cell>
					</grid>
				</group>

				<group text="groups.channels" vexpand="true" bg.color="bg" ipadding="0">
					<grid rows="3" cols="3" hfill="false" spacing="2">
						<ui:attributes bg.color="bg_schema">
							<label text="labels.specials.idx" text:id="0" padding="6"/>
							<vsep expand="false" padding="0"/>

							<hbox>
								<vbox height="44" padding="6">
									<button ui:inject="Button_left_8" text="labels.chan.on" id="on_0" width="37" height="10"/>
									<hbox fill="false" spacing="4">
										<button ui:inject="Button_left_8" id="solo_0" text="labels.chan.S_olo" height="10" width="10"/>
										<button ui:inject="Button_left_8" id="frz_0" text="labels.chan.H_old" height="10" width="10"/>
									</hbox>
								</vbox>
								<hbox width="99" padding="6">
									<knob id="sh_0" scolor="left_channel" size="24"/>
									<vbox height="44">
										<label text="labels.chan.shift"/>
										<value id="sh_0" detailed="true" same_line="true" width="60"/>
									</vbox>
								</hbox>
							</hbox>

							<cell rows="1" cols="3" expand="false" padding="0">
								<hsep/>
							</cell>

							<label text="labels.specials.idx" text:id="1" padding="6"/>
							<vsep expand="false" padding="0"/>

							<hbox>
								<vbox height="44" padding="6">
									<button ui:inject="Button_right_8" text="labels.chan.on" id="on_1" width="37" height="10"/>
									<hbox fill="false" spacing="4">
										<button ui:inject="Button_right_8" id="solo_1" text="labels.chan.S_olo" height="10" width="10"/>
										<button ui:inject="Button_right_8" id="frz_1" text="labels.chan.H_old" height="10" width="10"/>
									</hbox>
								</vbox>
								<hbox width="99" padding="6">
									<knob id="sh_1" scolor="right_channel" size="24"/>
									<vbox height="44">
										<label text="labels.chan.shift"/>
										<value id="sh_1" detailed="true" same_line="true" width="60"/>
									</vbox>
								</hbox>
							</hbox>
						</ui:attributes>
					</grid>
				</group>

			</vbox>

			<!-- Spectralizer (1 channel) -->
			<vbox fill="true" vexpand="true" spacing="4" visibility=":mode ige 2">
				<group text="groups.metering" vexpand="true" bg.color="bg" ipadding="0">
					<grid rows="3" cols="1" expand="true" vspacing="4">
						<cell>
							<vbox bg.color="bg_schema" padding="6">
								<label text="labels.metering.preamp" padding.bottom="6"/>
								<knob id="pamp" width="60" padding.bottom="6"/>
								<value id="pamp" same_line="true" width="60"/>
							</vbox>
						</cell>

						<cell>
							<vbox bg.color="bg_schema" padding="6">
								<label text="labels.metering.reactivity" width="58" padding.bottom="6"/>
								<knob id="react" width="60" padding.bottom="6"/>
								<value id="react" same_line="true" width="60"/>
							</vbox>
						</cell>

						<cell visibility=":mode ieq 2">
							<vbox bg.color="bg_schema" padding="6">
								<label text="labels.metering.channel" width="58" padding.bottom="6"/>
								<combo id="chn" width="48"/>
							</vbox>
						</cell>
					</grid>
				</group>

				<group text="groups.channels" vexpand="true" bg.color="bg" ipadding="0">
					<grid rows="3" cols="3" hfill="false" spacing="2">
						<ui:attributes bg.color="bg_schema">
							<cell padding="6">
								<label text="labels.specials.idx" text:id="0"/>
							</cell>
							<cell expand="false" padding="0">
								<vsep/>
							</cell>
							<cell>
								<vbox>
									<ui:attributes padding="6">
										<button ui:inject="Button_left_8" id="frz_0" text="labels.chan.hold" height="10" width="48"/>
										<label text="labels.chan.shift"/>
										<knob id="sh_0" scolor="left_channel" size="20"/>
										<value id="sh_0" detailed="true" same_line="true" width="60"/>
									</ui:attributes>
								</vbox>
							</cell>
							<cell rows="1" cols="3" expand="false" padding="0">
								<hsep/>
							</cell>
							<cell padding="6">
								<label text="labels.specials.idx" text:id="0"/>
							</cell>
							<cell expand="false" padding="0">
								<vsep/>
							</cell>
							<cell>
								<vbox>
									<ui:attributes bg.color="bg_schema" padding="6">
										<button ui:inject="Button_green_8" id="frz_1" text="labels.chan.hold" height="10" width="48"/>
										<label text="labels.chan.shift"/>
										<knob id="sh_1" scolor="right_channel" size="20"/>
										<value id="sh_1" detailed="true" same_line="true" width="60"/>
									</ui:attributes>
								</vbox>
							</cell>
						</ui:attributes>
					</grid>
				</group>
			</vbox>
		</hbox>
	</vbox>
</plugin>
